---
title: DDos攻击有哪些
date: 2025-01-01
author: MJJ
published: true
layout: post
tags:
  - 网络
---
DDoS（分布式拒绝服务）攻击是指攻击者通过大量分布在不同地方的计算机，向目标服务器或网络发起攻击，耗尽其资源，导致目标无法正常为合法用户提供服务。DDoS 攻击有许多类型，每种类型针对不同的层面进行攻击。以下是一些常见的 DDoS 攻击类型的详细讲解以及相应的应对措施。

### **1. 流量消耗型攻击（Volume-based attacks）**

#### **(1) UDP Flood**

- **工作原理**：
    - 攻击者向目标服务器发送大量的 **UDP（用户数据报协议）** 数据包，通常是伪造的请求数据包。由于 UDP 是无连接的协议，服务器无法验证请求的来源。
    - 目标服务器收到 UDP 数据包后，会根据请求进行处理并回应，这会消耗大量带宽和计算资源。
- **影响**：
    - 消耗带宽和资源，导致目标服务器无法处理正常的请求，服务被中断。
- **防御手段**：
    - **防火墙过滤**：可以配置防火墙丢弃无效的 UDP 数据包，尤其是没有合法目的地的流量。
    - **流量分析和速率限制**：监控网络流量，设置阈值，自动检测并限制流量。
    - **基于状态的过滤**：仅允许特定端口或协议的 UDP 数据包，减少不必要的流量。

#### **(2) ICMP Flood**

- **工作原理**：
    - 攻击者发送大量的 **ICMP Echo Request**（ping 请求）包，伪造源 IP 地址，使目标服务器需要响应大量的 ICMP Echo Reply（回响响应）。
    - 目标服务器的带宽和资源被消耗，甚至可能导致网络阻塞。
- **影响**：
    - 消耗服务器带宽和处理能力，尤其是当目标服务器无法区分合法请求时。
- **防御手段**：
    - **ICMP 请求速率限制**：通过防火墙或路由器限制每秒允许的 ICMP 请求数量。
    - **源地址验证**：防止伪造源地址的 ICMP 包。
    - **禁止 ICMP 响应**：对 ICMP Echo 请求进行拦截，禁止 ICMP 回应。

#### **(3) DNS Amplification**

- **工作原理**：
    - 攻击者向开放的 DNS 服务器发送伪造的 DNS 请求，源地址伪装为目标的 IP 地址。
    - DNS 服务器会将查询结果（通常比请求更大）发送给目标，从而放大流量。
- **影响**：
    - 由于 DNS 响应比请求数据包要大得多，因此攻击者能够用较小的请求产生大量的响应，迅速耗尽目标的带宽和资源。
- **防御手段**：
    - **禁用开放 DNS 解析**：配置 DNS 服务器仅响应可信的 IP 地址请求。
    - **DNS 请求速率限制**：限制 DNS 查询的频率。
    - **使用 DNSSEC**：启用 DNS 安全扩展（DNSSEC）来增强 DNS 协议的安全性。
    - **流量清洗服务**：使用第三方服务清洗恶意流量，确保只将合法的流量送达目标服务器。

### **2. 协议型攻击（Protocol-based attacks）**

#### **(1) SYN Flood**

- **工作原理**：
    - 攻击者发送大量的 **SYN**（同步）请求包，伪造源 IP 地址。目标服务器接收到 SYN 请求后，返回一个 SYN-ACK（同步确认）响应，等待 ACK（确认）响应来建立连接。
    - 攻击者不回应 SYN-ACK 响应，导致目标服务器无法完成 TCP 三次握手，保持连接在半打开状态，消耗大量资源。
- **影响**：
    - 服务器为每个半连接分配内存和处理能力，耗尽资源，导致无法处理正常的连接请求。
- **防御手段**：
    - **SYN Cookies**：通过使用 SYN Cookies 技术来避免为每个半连接分配资源，防止资源耗尽。
    - **连接队列限制**：减少每个服务器能够处理的并发连接数。
    - **防火墙和负载均衡器**：启用防火墙来过滤不必要的 SYN 请求，并使用负载均衡器分散流量。

#### **(2) ACK Flood**

- **工作原理**：
    - 攻击者发送大量的 **ACK**（确认）包，这些包会被目标服务器认为是已经建立连接的请求。
    - 服务器会消耗大量资源来解析这些包，尝试响应它们，而实际上这些 ACK 包没有合法的连接状态。
- **影响**：
    - 消耗服务器的计算资源，影响正常的连接请求。
- **防御手段**：
    - **基于状态的防火墙**：通过防火墙或其他网络设备过滤非法 ACK 包。
    - **速率限制**：限制每个 IP 地址的 ACK 包的发送速率。

#### **(3) RST Flood**

- **工作原理**：
    - 攻击者通过发送大量的 **RST（重置）** 包，强制断开目标服务器和客户端之间的连接。
    - 目标服务器将花费资源来处理中断的连接。
- **影响**：
    - 频繁的连接中断和重新建立会导致服务器资源耗尽。
- **防御手段**：
    - **连接状态检查**：对于收到的 RST 包进行验证，确保它们是合法的。
    - **流量分析**：检测是否有异常的 RST 包，并对其进行过滤。


### **3. 应用层攻击（Application Layer attacks）**

#### **(1) HTTP Flood**

- **工作原理**：
    - 攻击者发送大量的 **HTTP 请求**（例如 GET 或 POST 请求）到目标 Web 服务器，通常是访问页面或提交表单，模拟合法的用户行为。
    - 由于 HTTP 请求需要 Web 服务器处理，导致服务器消耗大量的计算资源和内存，无法为正常用户提供服务。
- **影响**：
    - 对 Web 服务器的资源（如 CPU 和内存）进行大量消耗，使其无法响应正常的请求。
- **防御手段**：
    - **WAF（Web 应用防火墙）**：部署 WAF 对 HTTP 请求进行检查和过滤，阻止恶意请求。
    - **速率限制**：限制每个 IP 的请求频率，防止单个用户发起大量请求。
    - **行为分析**：通过分析用户行为来识别并拦截恶意流量。

#### **(2) Slowloris**

- **工作原理**：
    - 攻击者通过发送部分的 HTTP 请求，保持连接处于未完成的状态，目标服务器无法完全关闭连接或处理新的请求。
    - 攻击者通过慢速发送数据保持连接活跃，使目标服务器的连接池耗尽。
- **影响**：
    - 服务器的连接池资源被耗尽，无法处理新的请求。
- **防御手段**：
    - **连接超时设置**：配置连接超时时间，自动断开长时间未完成的连接。
    - **反向代理和负载均衡**：使用反向代理和负载均衡器来分散负载，并防止单一服务器资源耗尽。

#### **(3) DNS Query Flood**

- **工作原理**：
    - 攻击者向目标 DNS 服务器发送大量查询请求，导致服务器消耗大量资源并无法响应合法请求。
- **影响**：
    - 目标 DNS 服务器无法为正常用户提供域名解析服务，导致 Web 服务无法访问。
- **防御手段**：
    - **DNSSEC**：启用 DNS 安全扩展，增加 DNS 的安全性。
    - **流量监控和速率限制**：监控 DNS 请求的频率，限制每秒查询次数。


### **4. 混合型攻击（Hybrid Attacks）**

#### **(1) Zero-day DDoS Attacks**

- **工作原理**：
    - 利用目标系统未修复的漏洞进行攻击。这些漏洞通常是未知的，难以防御。
- **防御手段**：
    - **定期安全更新和补丁管理**：定期更新软件和操作系统，以修复漏洞。
    - **入侵检测系统（IDS）**：部署 IDS 来识别和响应异常行为。

#### **(2) Application + Network Attack**

- **工作原理**：
    - 同时发起多个层面的攻击，例如网络层（如 SYN Flood）和应用层（如 HTTP Flood）攻击。
- **防御手段**：
    - 结合多层防御技术，如 WAF、负载均衡、防火墙、DDoS 防护服务等，增强防御能力。

### **总结**

DDoS 攻击类型各异，防御手段也需要根据不同攻击类型进行针对性的部署。常见的防御策略包括使用防火墙、入侵检测系统、负载均衡器、流量清洗服务等手段。加强流量监控，设置合适的速率限制，定期修补系统漏洞，综合使用多种防护措施，才能有效应对 DDoS 攻击。